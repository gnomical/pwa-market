{"version":3,"sources":["webpack:///./util/dbHelpers.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///../src/util.js","webpack:///../src/PureComponent.js","webpack:///../src/suspense.js","webpack:///../src/suspense-list.js","webpack:///../src/portals.js","webpack:///../src/render.js","webpack:///../src/index.js","webpack:///../node_modules/@fortawesome/react-fontawesome/index.es.js","webpack:///../src/forwardRef.js","webpack:///../src/Children.js","webpack:///../src/scheduler.js","webpack:///../src/memo.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./routes/home-screen/style.scss","webpack:///../node_modules/idb-keyval/dist/esm/index.js","webpack:///../node_modules/prop-types/index.js","webpack:///./util/gestureListener.js","webpack:///./components/launcher/index.js","webpack:///./routes/app-library/index.js?231e","webpack:///./routes/home-screen/index.js","webpack:///./components/launcher/style.scss"],"names":["getManifest","src","Promise","resolve","reject","fetch","encodeURIComponent","btoa","then","resp","json","data","Object","prototype","toString","call","icons","sort","a","b","purpose","aSize","parseInt","sizes","split","bSize","catch","reason","module","exports","assign","obj","props","i","shallowDiffers","PureComponent","p","Suspense","_suspenders","suspended","vnode","component","SuspenseList","_next","_map","ContextProvider","getChildContext","context","children","Portal","_this","this","container","_container","componentWillUnmount","render","_temp","nodeType","parentNode","childNodes","appendChild","child","push","insertBefore","before","removeChild","splice","indexOf","createElement","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","isValidElement","element","$$typeof","REACT_ELEMENT_TYPE","_typeof","Symbol","iterator","constructor","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","TypeError","_nonIterableSpread","camelize","string","replace","match","chr","toUpperCase","substr","toLowerCase","styleToObject","style","map","s","trim","reduce","acc","pair","val","prop","slice","startsWith","charAt","normalizeIconArgs","icon","parse","prefix","iconName","objectWithKey","FontAwesomeIcon","_ref","forwardedRef","maskArgs","mask","symbol","className","title","titleId","iconLookup","classes","concat","_classes","flip","size","rotation","pull","spin","pulse","fixedWidth","inverse","border","listItem","swapOpacity","classList","transform","renderedIcon","_console","PRODUCTION","console","error","log","abstract","extraProps","ref","defaultProps","hasOwnProperty","convertCurry","Component","isPureReactComponent","shouldComponentUpdate","state","oldDiffHook","options","type","REACT_FORWARD_SYMBOL","for","mapFn","fn","toChildArray","Children","count","only","normalized","toArray","oldCatchError","newVNode","oldVNode","promise","suspendingVNode","suspendingComponent","c","resolved","onResolved","onSuspensionComplete","suspendedVNode","removeOriginal","detachedParent","originalParent","setState","pop","forceUpdate","wasHydrating","document","detachedComponent","detachedClone","parentDom","effect","fallback","Fragment","list","node","delete","revealOrder","delegated","get","wrappedUnsuspend","unsuspend","Map","reverse","set","componentDidUpdate","componentDidMount","CAMEL_PROPS","onChangeInputType","test","isReactComponent","v","oldEventHook","event","e","persist","nativeEvent","currentComponent","classNameDescriptor","class","oldVNodeHook","normalizedProps","multiple","selected","defaultValue","oldBeforeRender","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","current","readContext","performance","now","bind","useState","useReducer","useEffect","useLayoutEffect","useRef","useImperativeHandle","useMemo","useCallback","useContext","useDebugValue","version","parent","callback","textContent","preactRender","hydrate","preactHydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","preactCloneElement","createRef","findDOMNode","base","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","displayName","name","forwardRef","Forwarded","clone","unstable_batchedUpdates","arg","StrictMode","lazy","loader","Lazy","prom","default","process","propTypes","PropTypes","bool","oneOfType","array","oneOf","convert","undefined","mixins","attributes","attrs","_extraProps$style","existingStyle","remaining","tag","React","emptyFunction","emptyFunctionWithReset","ReactPropTypesSecret","require","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","func","number","any","arrayOf","elementType","instanceOf","objectOf","shape","exact","checkPropTypes","getHookState","index","currentHook","hooks","initialState","invokeOrReturn","reducer","init","hookState","currentIndex","_reducer","nextValue","action","args","argsChanged","initialValue","createHandle","factory","provider","sub","formatter","flushAfterPaintEffects","afterPaintEffects","invokeCleanup","invokeEffect","hook","comp","oldArgs","newArgs","some","f","prevRaf","oldBeforeDiff","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","requestAnimationFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","commitQueue","cb","promisifyRequest","request","oncomplete","onsuccess","result","onabort","onerror","defaultGetStore","defaultGetStoreFunc","dbName","storeName","indexedDB","open","onupgradeneeded","createObjectStore","dbp","txMode","db","transaction","objectStore","createStore","customStore","store","put","update","updater","del","GESTURES","freeze","SWIPE_UP","SWIPE_DOWN","SWIPE_RIGHT","SWIPE_LEFT","SWIPE_DOWN_LEFT","SWIPE_DOWN_RIGHT","SWIPE_UP_LEFT","SWIPE_UP_RIGHT","DRAW_X","ANY","GestureListener","elm","listener","minDistance","continuous","position","seal","initial","x","y","final","destroy","removeEventListener","touchstart","touchmove","touchend","touches","screenX","screenY","clientX","clientY","screenPosition","movementX","movementY","gesture","dX","dY","Math","sqrt","pow","abs","minSwipeDistance","addEventListener","Launcher","animating","height","launched","expanded","loaded","closePosition","width","iconURL","appSpace","closeBtn","appSpaceListener","close","closeBtnListener","top","left","manifest","prevState","short_name","stopPropagation","launcher","systemLauncher","system","onClick","getBoundingClientRect","offsetWidth","offsetHeight","closeBtnRect","geometry","onError","info","onLoad","childWrapper","HomeScreen","wallpaperURL","setWallpaper","appGrid","updateAppGrid","imgData","installedApps","appKeyList","homescreen","updateInstalledApps","appDetails","url","saveWallpaper","hasCustomWallpaper","appKey","atob"],"mappings":"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","file":"route-home-screen.chunk.6b3f6.js","sourcesContent":["import { update } from 'idb-keyval'\n\n// TODO: cache these results in indexdb\n\nexport const getManifest = (src) => {\n  return new Promise((resolve, reject) => {\n    fetch('https://raw.githubusercontent.com/openhomescreen/pwa-market/main/data/manifests/'+encodeURIComponent(btoa(src))+'.json')\n    .then(resp => {\n      resp.json().then(data => {\n          // sort the icons to give priority\n          // 1. maskable\n          // 2. size:\n          //   a. in the sweet spot (>=64px && <=192px) (not too small, not too large)\n          //   b. larger is better\n          if(Object.prototype.toString.call(data.icons) == '[object Array]') {\n            data.icons.sort((a, b) => {\n              if((a.purpose && a.purpose == 'maskable') && (!b.purpose || b.purpose != 'maskable')) return -1\n              if((b.purpose && b.purpose == 'maskable') && (!a.purpose || a.purpose != 'maskable')) return 1\n\n              let aSize = parseInt(a.sizes.split('x')[0]);\n              let bSize = parseInt(b.sizes.split('x')[0]);\n              if(aSize > bSize) return -1\n              if(bSize > aSize) return 1\n              return 0\n            })\n          }\n\n          resolve(data)\n      })\n      .catch(reason => {\n        reject(reason)\n      })\n    })\n    .catch(reason => {\n      reject(reason)\n    })\n  });\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent.componentWillUnmount =\n\t\t\tsuspendingComponent._suspendedComponentWillUnmount;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._suspendedComponentWillUnmount =\n\t\tsuspendingComponent.componentWillUnmount;\n\tsuspendingComponent.componentWillUnmount = () => {\n\t\tonResolved();\n\n\t\tif (suspendingComponent._suspendedComponentWillUnmount) {\n\t\t\tsuspendingComponent._suspendedComponentWillUnmount();\n\t\t}\n\t};\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function() {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\treturn createElement(Portal, { _vnode: vnode, _container: container });\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\t}\n\n\tif (type && props.class != props.className) {\n\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n/**\n * Keep track of the previous component so that we can set\n * `currentComponent` to `null` and throw when a hook is invoked\n * outside of render\n * @type {import('./internal').Component}\n */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = previousComponent;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import { parse, icon } from '@fortawesome/fontawesome-svg-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// Get CSS class list from a props object\nfunction classList(props) {\n  var _classes;\n\n  var spin = props.spin,\n      pulse = props.pulse,\n      fixedWidth = props.fixedWidth,\n      inverse = props.inverse,\n      border = props.border,\n      listItem = props.listItem,\n      flip = props.flip,\n      size = props.size,\n      rotation = props.rotation,\n      pull = props.pull; // map of CSS class names to properties\n\n  var classes = (_classes = {\n    'fa-spin': spin,\n    'fa-pulse': pulse,\n    'fa-fw': fixedWidth,\n    'fa-inverse': inverse,\n    'fa-border': border,\n    'fa-li': listItem,\n    'fa-flip-horizontal': flip === 'horizontal' || flip === 'both',\n    'fa-flip-vertical': flip === 'vertical' || flip === 'both'\n  }, _defineProperty(_classes, \"fa-\".concat(size), typeof size !== 'undefined' && size !== null), _defineProperty(_classes, \"fa-rotate-\".concat(rotation), typeof rotation !== 'undefined' && rotation !== null && rotation !== 0), _defineProperty(_classes, \"fa-pull-\".concat(pull), typeof pull !== 'undefined' && pull !== null), _defineProperty(_classes, 'fa-swap-opacity', props.swapOpacity), _classes); // map over all the keys in the classes object\n  // return an array of the keys where the value for the key is not null\n\n  return Object.keys(classes).map(function (key) {\n    return classes[key] ? key : null;\n  }).filter(function (key) {\n    return key;\n  });\n}\n\n// Camelize taken from humps\n// humps is copyright © 2012+ Dom Christie\n// Released under the MIT license.\n// Performant way to determine if object coerces to a number\nfunction _isNumerical(obj) {\n  obj = obj - 0; // eslint-disable-next-line no-self-compare\n\n  return obj === obj;\n}\n\nfunction camelize(string) {\n  if (_isNumerical(string)) {\n    return string;\n  } // eslint-disable-next-line no-useless-escape\n\n\n  string = string.replace(/[\\-_\\s]+(.)?/g, function (match, chr) {\n    return chr ? chr.toUpperCase() : '';\n  }); // Ensure 1st char is always lowercase\n\n  return string.substr(0, 1).toLowerCase() + string.substr(1);\n}\n\nfunction capitalize(val) {\n  return val.charAt(0).toUpperCase() + val.slice(1);\n}\n\nfunction styleToObject(style) {\n  return style.split(';').map(function (s) {\n    return s.trim();\n  }).filter(function (s) {\n    return s;\n  }).reduce(function (acc, pair) {\n    var i = pair.indexOf(':');\n    var prop = camelize(pair.slice(0, i));\n    var value = pair.slice(i + 1).trim();\n    prop.startsWith('webkit') ? acc[capitalize(prop)] = value : acc[prop] = value;\n    return acc;\n  }, {});\n}\n\nfunction convert(createElement, element) {\n  var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof element === 'string') {\n    return element;\n  }\n\n  var children = (element.children || []).map(function (child) {\n    return convert(createElement, child);\n  });\n  /* eslint-disable dot-notation */\n\n  var mixins = Object.keys(element.attributes || {}).reduce(function (acc, key) {\n    var val = element.attributes[key];\n\n    switch (key) {\n      case 'class':\n        acc.attrs['className'] = val;\n        delete element.attributes['class'];\n        break;\n\n      case 'style':\n        acc.attrs['style'] = styleToObject(val);\n        break;\n\n      default:\n        if (key.indexOf('aria-') === 0 || key.indexOf('data-') === 0) {\n          acc.attrs[key.toLowerCase()] = val;\n        } else {\n          acc.attrs[camelize(key)] = val;\n        }\n\n    }\n\n    return acc;\n  }, {\n    attrs: {}\n  });\n\n  var _extraProps$style = extraProps.style,\n      existingStyle = _extraProps$style === void 0 ? {} : _extraProps$style,\n      remaining = _objectWithoutProperties(extraProps, [\"style\"]);\n\n  mixins.attrs['style'] = _objectSpread2({}, mixins.attrs['style'], {}, existingStyle);\n  /* eslint-enable */\n\n  return createElement.apply(void 0, [element.tag, _objectSpread2({}, mixins.attrs, {}, remaining)].concat(_toConsumableArray(children)));\n}\n\nvar PRODUCTION = false;\n\ntry {\n  PRODUCTION = process.env.NODE_ENV === 'production';\n} catch (e) {}\n\nfunction log () {\n  if (!PRODUCTION && console && typeof console.error === 'function') {\n    var _console;\n\n    (_console = console).error.apply(_console, arguments);\n  }\n}\n\nfunction normalizeIconArgs(icon) {\n  if (parse.icon) {\n    return parse.icon(icon);\n  } // if the icon is null, there's nothing to do\n\n\n  if (icon === null) {\n    return null;\n  } // if the icon is an object and has a prefix and an icon name, return it\n\n\n  if (_typeof(icon) === 'object' && icon.prefix && icon.iconName) {\n    return icon;\n  } // if it's an array with length of two\n\n\n  if (Array.isArray(icon) && icon.length === 2) {\n    // use the first item as prefix, second as icon name\n    return {\n      prefix: icon[0],\n      iconName: icon[1]\n    };\n  } // if it's a string, use it as the icon name\n\n\n  if (typeof icon === 'string') {\n    return {\n      prefix: 'fas',\n      iconName: icon\n    };\n  }\n}\n\n// creates an object with a key of key\n// and a value of value\n// if certain conditions are met\nfunction objectWithKey(key, value) {\n  // if the value is a non-empty array\n  // or it's not an array but it is truthy\n  // then create the object with the key and the value\n  // if not, return an empty array\n  return Array.isArray(value) && value.length > 0 || !Array.isArray(value) && value ? _defineProperty({}, key, value) : {};\n}\n\nfunction FontAwesomeIcon(_ref) {\n  var forwardedRef = _ref.forwardedRef,\n      props = _objectWithoutProperties(_ref, [\"forwardedRef\"]);\n\n  var iconArgs = props.icon,\n      maskArgs = props.mask,\n      symbol = props.symbol,\n      className = props.className,\n      title = props.title,\n      titleId = props.titleId;\n  var iconLookup = normalizeIconArgs(iconArgs);\n  var classes = objectWithKey('classes', [].concat(_toConsumableArray(classList(props)), _toConsumableArray(className.split(' '))));\n  var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n  var mask = objectWithKey('mask', normalizeIconArgs(maskArgs));\n  var renderedIcon = icon(iconLookup, _objectSpread2({}, classes, {}, transform, {}, mask, {\n    symbol: symbol,\n    title: title,\n    titleId: titleId\n  }));\n\n  if (!renderedIcon) {\n    log('Could not find icon', iconLookup);\n    return null;\n  }\n\n  var abstract = renderedIcon.abstract;\n  var extraProps = {\n    ref: forwardedRef\n  };\n  Object.keys(props).forEach(function (key) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (!FontAwesomeIcon.defaultProps.hasOwnProperty(key)) {\n      extraProps[key] = props[key];\n    }\n  });\n  return convertCurry(abstract[0], extraProps);\n}\nFontAwesomeIcon.displayName = 'FontAwesomeIcon';\nFontAwesomeIcon.propTypes = {\n  border: PropTypes.bool,\n  className: PropTypes.string,\n  mask: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.string]),\n  fixedWidth: PropTypes.bool,\n  inverse: PropTypes.bool,\n  flip: PropTypes.oneOf(['horizontal', 'vertical', 'both']),\n  icon: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.string]),\n  listItem: PropTypes.bool,\n  pull: PropTypes.oneOf(['right', 'left']),\n  pulse: PropTypes.bool,\n  rotation: PropTypes.oneOf([0, 90, 180, 270]),\n  size: PropTypes.oneOf(['lg', 'xs', 'sm', '1x', '2x', '3x', '4x', '5x', '6x', '7x', '8x', '9x', '10x']),\n  spin: PropTypes.bool,\n  symbol: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  swapOpacity: PropTypes.bool\n};\nFontAwesomeIcon.defaultProps = {\n  border: false,\n  className: '',\n  mask: null,\n  fixedWidth: false,\n  inverse: false,\n  flip: null,\n  icon: null,\n  listItem: false,\n  pull: null,\n  pulse: false,\n  rotation: null,\n  size: null,\n  spin: false,\n  symbol: false,\n  title: '',\n  transform: null,\n  swapOpacity: false\n};\nvar convertCurry = convert.bind(null, React.createElement);\n\nexport { FontAwesomeIcon };\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\t// We always have ref in props.ref, except for\n\t// mobx-react. It will call this function directly\n\t// and always pass ref as the second argument.\n\tfunction Forwarded(props, ref) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\tref = props.ref || ref;\n\t\treturn fn(\n\t\t\tclone,\n\t\t\t!ref || (typeof ref === 'object' && !('current' in ref)) ? null : ref\n\t\t);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","// This file includes experimental React APIs exported from the \"scheduler\"\n// npm package. Despite being explicitely marked as unstable some libraries\n// already make use of them. This file is not a full replacement for the\n// scheduler package, but includes the necessary shims to make those libraries\n// work with Preact.\n\nexport const unstable_ImmediatePriority = 1;\nexport const unstable_UserBlockingPriority = 2;\nexport const unstable_NormalPriority = 3;\nexport const unstable_LowPriority = 4;\nexport const unstable_IdlePriority = 5;\n\n/**\n * @param {number} priority\n * @param {() => void} callback\n */\nexport function unstable_runWithPriority(priority, callback) {\n\treturn callback();\n}\n\nexport const unstable_now =\n\ttypeof performance === 'object' && typeof performance.now === 'function'\n\t\t? performance.now.bind(performance)\n\t\t: () => Date.now();\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homescreen\":\"d6c6\"};","function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic – if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(customStore, callback) {\n    return customStore('readonly', (store) => {\n        // This would be store.getAllKeys(), but it isn't supported by Edge or Safari.\n        // And openKeyCursor isn't supported by Safari.\n        store.openCursor().onsuccess = function () {\n            if (!this.result)\n                return;\n            callback(this.result);\n            this.result.continue();\n        };\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push(cursor.key)).then(() => items);\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push(cursor.value)).then(() => items);\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push([cursor.key, cursor.value])).then(() => items);\n}\n\nexport { clear, createStore, del, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","\nexport const GESTURES = Object.freeze({\n  SWIPE_UP: 'swipe-up',\n  SWIPE_DOWN: 'swipe-down',\n  SWIPE_RIGHT: 'swipe-right',\n  SWIPE_LEFT: 'swipe-left',\n  SWIPE_DOWN_LEFT: 'swipe-down-left',\n  SWIPE_DOWN_RIGHT: 'swipe-down-right',\n  SWIPE_UP_LEFT: 'swipe-up-left',\n  SWIPE_UP_RIGHT: 'swipe-up-right',\n  DRAW_X: 'draw-x',\n  ANY: 'any',\n})\n\nexport class GestureListener {\n  target = undefined\n  #detectType = GESTURES.ANY\n  minDistance = 50\n  continuous = false\n  #watchDiagonals = false\n  #watchComplexGestures = false\n  #lastGesture = undefined\n\n  position = Object.seal({\n    initial: {\n      x: undefined,\n      y: undefined,\n    },\n    final: {\n      x: undefined,\n      y: undefined,\n    },\n  })\n\n  listener = (e) => {\n    console.error('gesture listener callback function undefined')\n  }\n\n  /**\n   * define a gesture listener that will return an event to the callback\n   * after the final gesture has been detected\n   * @param {EventTarget} elm the element to bind the event listener to \n   * @param {string} type swipe-up, swipe-down, swipe-left, swipe-right, any\n   * @param {function} listener callback function\n   * @param {object} options { minSwipeDistance: (number), continuous: (bool) } \n   */\n  constructor(elm, type, listener, options) {\n    this.target = elm\n    this.#detectType = type || this.#detectType\n    this.listener = listener || this.listener\n    this.minDistance = options.minSwipeDistance || this.minDistance\n    this.continuous = options.continuous || this.continuous\n\n    if(this.#detectType == GESTURES.SWIPE_DOWN_LEFT\n      || this.#detectType == GESTURES.SWIPE_DOWN_RIGHT\n      || this.#detectType == GESTURES.DRAW_X\n      || this.#detectType == GESTURES.ANY)\n      this.#watchDiagonals = true\n\n    if(this.#detectType == GESTURES.DRAW_X\n      || this.#detectType == GESTURES.ANY)\n      this.#watchComplexGestures = true\n\n    this.target.addEventListener('touchstart', this.touchstart, false)\n    this.target.addEventListener('touchmove', this.touchmove, false)\n    this.target.addEventListener('touchend', this.touchend, false)\n  }\n\n  destroy = () => {\n    this.target.removeEventListener('touchstart', this.touchstart, false)\n    this.target.removeEventListener('touchmove', this.touchmove, false)\n    this.target.removeEventListener('touchend', this.touchend, false)\n  }\n\n  /**\n   * records the first point of the touch interaction\n   */\n  touchstart = (e) => {\n    this.position.initial.x = this.position.final.x = e.touches[0].screenX\n    this.position.initial.y = this.position.final.y = e.touches[0].screenY\n    // console.log('touchstart', JSON.stringify(position.initial));\n  }\n\n  /**\n   * updates the end point of the touch interaction\n   */\n  touchmove = (e) => {\n    this.position.final.x = e.touches[0].clientX\n    this.position.final.y = e.touches[0].clientY\n    // console.log('touchmove', 'continuous: '+continuous, JSON.stringify(this.position.final))\n\n    if(this.continuous) {\n      this.listener({\n        target: this.target,\n        type: 'in-motion',\n        screenPosition: this.position,\n        movementX: this.position.final.x - this.position.initial.x,\n        movementY: this.position.final.y - this.position.initial.y,\n      })\n    }\n  }\n\n  /**\n   * calculates the vector between the initial x/y and the final x/y\n   * then determines what type of swipe that indicates and \n   */\n  touchend = (e) => {\n    let gesture = null\n    const dX = this.position.final.x - this.position.initial.x\n    const dY = this.position.final.y - this.position.initial.y\n\n    // console.log('touchend', dX, dY, JSON.stringify(position));\n\n    // distance calc and compare to minimum threshold\n    let distance = Math.sqrt(Math.pow(dX,2) + Math.pow(dY,2))\n    if (distance < this.minDistance) {\n      // console.log('distance '+distance+' too short')\n      return\n    }\n    \n    // general direction of swipe\n    if (dY === 0 || Math.abs(dX / dY) > 1) {\n      if(dY != 0 && this.#watchDiagonals && Math.abs(dX / dY) < 2) {\n        //diagonal\n        gesture = dX > 0 ? (dY > 0 ? GESTURES.SWIPE_UP_RIGHT : GESTURES.SWIPE_DOWN_RIGHT) : (dY > 0 ? GESTURES.SWIPE_UP_LEFT : GESTURES.SWIPE_DOWN_LEFT)\n      } else {\n        // horizontal\n        gesture = dX > 0 ? GESTURES.SWIPE_RIGHT : GESTURES.SWIPE_LEFT\n      }\n\n    } else { \n      if(this.#watchDiagonals && Math.abs(dX / dY) > .75) {\n        //diagonal\n        gesture = dX > 0 ? (dY > 0 ? GESTURES.SWIPE_UP_RIGHT : GESTURES.SWIPE_DOWN_RIGHT) : (dY > 0 ? GESTURES.SWIPE_UP_LEFT : GESTURES.SWIPE_DOWN_LEFT)\n      } else {\n        // vertical\n        gesture = dY > 0 ? GESTURES.SWIPE_DOWN : GESTURES.SWIPE_UP\n      }\n    }\n\n    if(this.#watchComplexGestures) {\n      if(this.#lastGesture) {\n        if(\n          ((this.#lastGesture == GESTURES.SWIPE_DOWN_LEFT || this.#lastGesture == GESTURES.SWIPE_UP_RIGHT) && (gesture == GESTURES.SWIPE_DOWN_RIGHT || gesture == GESTURES.SWIPE_UP_LEFT))\n          || ((this.#lastGesture == GESTURES.SWIPE_DOWN_RIGHT || this.#lastGesture == GESTURES.SWIPE_UP_LEFT) && (gesture == GESTURES.SWIPE_DOWN_LEFT || gesture == GESTURES.SWIPE_UP_RIGHT))\n        )\n          gesture = GESTURES.DRAW_X\n      }\n      this.#lastGesture = gesture\n      setTimeout(() => {\n        this.#lastGesture = undefined\n      }, 1000)\n    }\n\n    // call listener if it matches the type requested\n    if ((gesture == this.#detectType || this.#detectType == GESTURES.ANY) && typeof this.listener === 'function') {\n      this.listener({\n        target: this.target,\n        type: gesture,\n        screenPosition: this.position,\n        movementX: dX,\n        movementY: dY,\n      })\n    } else {\n      //console.log(gesture, 'gesture did not match');\n    }\n  }\n} ","import { Fragment, h } from 'preact'\nimport { route } from 'preact-router'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport style from './style'\nimport { useEffect, useRef, useState } from 'preact/hooks'\nimport { GESTURES, GestureListener } from '../../util/gestureListener'\nimport { Settings } from '../../routes/settings'\nimport { getManifest } from '../../util/dbHelpers'\n\nconst Launcher = (props) => {\n\n  const initialState = {\n    animating: false,\n    height: undefined,\n    launched: false,\n    expanded: false,\n    loaded: false,\n    position: undefined,\n    closePosition: undefined,\n    width: undefined,\n    iconURL: props.iconURL,\n    title: props.title,\n  }\n\n  const [state, setState] = useState(initialState)\n\n  const appSpace = useRef()\n  const closeBtn = useRef()\n\n  useEffect(() => {\n    if(state.launched) {\n      let appSpaceListener = new GestureListener(appSpace.current, GESTURES.DRAW_X, (e) => {\n        close(e)\n      }, {\n        minSwipeDistance: 25,\n      })\n\n      return () => appSpaceListener.destroy()\n    }\n  }, [appSpace.current, state.launched, state.closePosition])\n\n  useEffect(() => {\n    if(state.launched) {\n      let closeBtnListener = new GestureListener(closeBtn.current, GESTURES.ANY, (e) => {\n        e.target.style.top = '-1.5em'\n        e.target.style.left = '-1.5em'\n        e.target.style.transform = `translate(${e.screenPosition.final.x}px, ${e.screenPosition.final.y}px)`\n      }, {\n        minSwipeDistance: 1,\n        continuous: true,\n      })\n\n      return () => closeBtnListener.destroy()\n    }\n  }, [closeBtn.current, state.launched, state.closePosition])\n\n  // reach out to the app server to read its pwa manifest\n  useEffect(() => {\n    if(props.src) {\n      getManifest(props.src)\n      .then(manifest => {\n        setState((prevState) => ({\n          ...prevState,\n          title: (manifest.name.length > 15?manifest.short_name:manifest.name),\n          iconURL: (manifest.icons[0]?(props.src+(manifest.icons[0].src.match(/^\\//)?'':'/')+manifest.icons[0].src):prevState.iconURL),\n        }))\n      })\n      .catch(function(reason) {\n        console.log(reason)\n      })\n    }\n  }, [props.src])\n\n  const iconFallback = (e) => {\n    console.info('icon img failed', state.iconURL)\n    setState((prevState) => ({\n      ...prevState,\n      iconURL: undefined,\n    }))\n  }\n\n  const launch = (e) => {\n    let position = appSpace.current.getBoundingClientRect();\n    \n    setState((prevState) => ({\n      ...prevState,\n      position: {\n        top: position.top,\n        left: position.left,\n      },\n      width: appSpace.current.offsetWidth,\n      height: appSpace.current.offsetHeight,\n    }))\n    setTimeout(() => setState((prevState) => ({\n      ...prevState,\n      animating: true,\n      launched: true,\n    })), 50)\n    setTimeout(() => {\n      // if(props.src && props.src.indexOf('://') == -1) {\n      //   route(props.src, true);\n      // } else {\n        let closeBtnRect = closeBtn.current.getBoundingClientRect()\n        setState((prevState) => ({\n          ...prevState,\n          expanded: true,\n          loaded: props.src?prevState.loaded:true,\n          closePosition: {\n            top: closeBtnRect.x,\n            left: closeBtnRect.y,\n          },\n        }))\n      // }\n    }, 500)\n  }\n\n  const showApp = (e) => {\n    setState((prevState) => ({\n      ...prevState,\n      loaded: true,\n    }))\n  }\n\n  const close = (e) => {\n    if(state.launched) {\n      if(typeof e.stopPropagation == 'function')\n        e.stopPropagation();\n      setState((prevState) => ({\n        ...prevState,\n        launched: false,\n      }))\n      setTimeout(() => setState((prevState) => ({\n        ...initialState,\n        closePosition: prevState.closePosition,\n        iconURL: prevState.iconURL,\n      })), 450)\n    }\n  }\n\n  return (\n    <span className={style.launcher+(state.launched?' '+style.launched:'')+(state.animating?' '+style.animating:'')+(state.loaded?' '+style.loaded:'')+(props.systemLauncher?' '+style.system:'')}>\n      {(state.title || props.icon) && <div ref={appSpace} onClick={!state.launched?launch:undefined} className={((state.title || props.icon)?style.geometry:'')}\n        style={(state.position?`position:fixed;margin:0;top:${state.position.top}px;left:${state.position.left}px;width:${state.width}px;height:${state.height}px;`:'')}\n      >\n        {state.iconURL?<img class={style.icon} src={state.iconURL} onError={iconFallback}/>:<></>}\n        {(props.icon && !state.iconURL) ? <FontAwesomeIcon icon={props.icon} />:<></>}\n        {(props.src && typeof props.src == 'string' && state.expanded) ? <iframe onLoad={showApp} src={props.src}/>:<></>}\n        {state.launched?<div className={style.childWrapper}>{props.children}</div>:<></>}\n        <div ref={closeBtn} class={style.close} onClick={close}><FontAwesomeIcon icon='times'/></div>\n      </div>}\n      {state.title && <div className={style.title}>{state.title}</div>}\n    </span>\n  )\n}\n\nexport default Launcher;\n","\n\t\timport Async from \"../../../node_modules/@preact/async-loader/async.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tvar result = require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--4!./index.js\");\n\t\t\t\ttypeof cb === 'function' && cb(result);\n\t\t\t}, \"route-app-library\");\n\t\t}\n\n\t\texport default Async(load);\n\t","import { h } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\n// import { GESTURES } from '../../util/EventTarget.addGestureListener'\nimport Launcher from '../../components/launcher';\nimport Settings from '../settings';\nimport AppLibrary from '../app-library';\nimport { get, set, del, update } from 'idb-keyval';\n\nimport style from './style';\n\nconst HomeScreen = (props) => {\n\n\tconst [wallpaperURL, setWallpaper] = useState(undefined)\n\tconst [appGrid, updateAppGrid] = useState({})\n\n\tuseEffect(() => {\n\t\tget('wallpaper').then((imgData) => {\n\t\t\tsetWallpaper(imgData)\n\t\t})\n\n\t\tget('installedApps').then((installedApps) => {\n\t\t\tupdateAppGrid(installedApps?installedApps:{})\n\t\t})\n\t}, [])\n\n\tconst saveWallpaper = (imgData) => {\n\t\tsetWallpaper(imgData)\n\t\tif(imgData) {\n\t\t\treturn set('wallpaper', imgData)\n\t\t}\n\t\treturn del('wallpaper')\n\t}\n\n\tconst updateInstalledApps = (action, appDetails) => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tupdate('installedApps', installedApps => {\n\t\t\t\t\n\t\t\t\tif(installedApps == undefined)\n\t\t\t\t\tinstalledApps = {}\n\n\t\t\t\tswitch (action) {\n\t\t\t\t\tcase 'save':\n\t\t\t\t\t\tinstalledApps[btoa(appDetails.url)] = {\n\t\t\t\t\t\t\ticonURL: appDetails.iconURL,\n\t\t\t\t\t\t\ttitle: appDetails.title,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'remove':\n\t\t\t\t\t\tdelete installedApps[btoa(appDetails.url)]\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tupdateAppGrid(installedApps)\n\t\t\t\tresolve(installedApps)\n\t\t\t\treturn installedApps\n\t\t\t})\n\t\t})\n\t}\n\t\n\tconst appKeyList = Object.keys(appGrid)\n\n\treturn (\n\t\t<div class={style.homescreen} style={wallpaperURL?`--bgurl: url(${wallpaperURL});`:''}>\n\t\t\t<Launcher icon='university' title='App Library' systemLauncher><AppLibrary updateInstalledApps={updateInstalledApps} installedApps={appKeyList}/></Launcher>\n\t\t\t<Launcher/>\n\t\t\t<Launcher/>\n\t\t\t<Launcher icon='cogs' title='Settings' systemLauncher><Settings saveWallpaper={saveWallpaper} hasCustomWallpaper={wallpaperURL!=undefined}/></Launcher>\n\t\t\t{appKeyList.map(appKey => <Launcher iconURL={appGrid[appKey].iconURL} title={appGrid[appKey].title} src={atob(appKey)}/>)}\n\t\t</div>\n\t);\n}\n\nexport default HomeScreen;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"launcher\":\"_2627\",\"system\":\"d4bd\",\"geometry\":\"d7b9\",\"close\":\"_2cea\",\"childWrapper\":\"a9b4\",\"grow\":\"_8fbd\",\"icon\":\"b6d3\",\"title\":\"_3612\",\"animating\":\"c655\",\"launched\":\"b803\",\"loaded\":\"c041\"};"],"sourceRoot":""}